extends layout

block style
  style(type='text/css').
    #box1 {background-color: #ffffff; width: 100%; padding-top: 4px; padding-left: 10px; padding-bottom: 5px; border-width:0px; border-bottom-width: 1px; border-color: #bbbbbb; border-style: solid;}
    #box1_ {background-color: #ffffff; width: 100%; padding-top: 4px; padding-left: 10px; padding-bottom: 5px; border-width:0px; border-bottom-width: 1px; border-color: #bbbbbb; border-style: solid;margin-bottom: 13px;}
    #hr {margin-top: -10px;}
    .nav-tabs li {width: 50%; text-align: center; color:#000000; background-color: #d7d7d7;}
    .tab-content#secA input {padding-top: 10px;}
    button.btn-danger {width: 100%; margin-top: 10px; margin-bottom: 20px;}

block content
  .container
    h5 주문/결제
    #box1.col-xs-12(style='padding-left:4px;')
      .row
        .col-xs-3
          img(src='/images/basic.jpg', width='60px;')
        .col-xs-9
          h5#bank 나이키/오니츠카타이거 35종
    #box1.col-xs-12
      .row
        .col-xs-12
          h5 선택4)나이키 다트11 1.블랙+화이트 260
      .row
        .col-xs-12
          p(style='float:right; color:#353535;') 1개 | 59,500원
    #hr.col-xs-12
      hr
    h5 구매 회원 정보
    #box1.col-xs-12
      .row
        .col-xs-3
          h6(style='color:#636363;') 성명
        .col-xs-9
          h6#bank #{name}
      .row
        .col-xs-3
          h6(style='color:#636363;') 이메일
        .col-xs-9
          h6#bank #{email}
      .row
        .col-xs-3
          h6(style='color:#636363;') 휴대폰번호
        .col-xs-9
          h6#bank 010-2989-7753
    #hr.col-xs-12
      hr
    h5 배송정보
    div
      ul.nav.nav-tabs
        li.active
          a(href='#secA', data-toggle='tab') 배송지 목록
        li
          a(href='#secB', data-toggle='tab') 새로 입력
      .tab-content
        #secA.tab-pane.fade.in.active
        each val in dest
          #box1.col-xs-12
            .row
              .col-xs-1
                input(type='radio', name='address')
              .col-xs-11
                p#name= val.userName
                p#phone-number 휴대폰: #{val.phone}
                p#address= val.address
        - }
        #secB.tab-pane.fade
          #box1.col-xs-12
            .row
              .col-xs-3
                h6(style='color:#636363;') 성명
              .col-xs-9
                input(type='text', style='width:100%; padding-top:3px;')
            .row
              .col-xs-3
                h6(style='color:#636363;') 휴대폰번호
              .col-xs-9
                input(type='text', maxlength='3', size='4', style='padding-top:3px;')
                | -
                input(type='text', maxlength='4', size='4', style='padding-top:3px;')
                | -
                input(type='text', maxlength='4', size='4', style='padding-top:3px;')
            .row
              .col-xs-3
                h6(style='color:#636363;') 배송주소
              .col-xs-9
                .form-inline
                  input(type='text', size='25', style='padding-top:3px;', placeholder='동(읍/면/리) 입력 후 찾기')
                  button(type='submit', style='padding-top:3px;') 찾기
                input(type='text', style='padiing-top:3px; margin-top:2px; width:100%;')
                input(type='text', style='padiing-top:3px; margin-top:2px; width:100%;')
            hr
            input(type='checkbox')
            |  배송지 목록에 추가합니다. 
            br
            input(type='checkbox')
            |  기본 배송지로 설정합니다.
    #box1.col-xs-12
      select.form-control(style='width:100%')
        option 배송시 요청사항을 선택해주세요.
        option 부재시 경비실에 맡겨주세요.
        option 도착전 문자/전화 주세요.
      input(type='text', placeholder='기타내용을 입력해주세요.', maxlength='30', style='width:100%; margin-top:3px;')
      p(style='float:right;') 0/30자
    #hr.col-xs-12
      hr
    h5 결제 정보
    #box1.col-xs-12
      .row
        .col-xs-3
          h6(style='color:#636363;') 총상품가격
        .col-xs-9
          h6(style='float:right;') 59,500원
      .row
        .col-xs-3
          h6(style='color:#636363;') 할인쿠폰
        .col-xs-9
          h6(style='float:right;') 0원
      .row
        .col-xs-3
          h6(style='color:#636363;') 총배송비
        .col-xs-9
          h6(style='float:right;') 0원
      .row
        .col-xs-3
          h6(style='color:#636363;') 총결제가격
        .col-xs-9
          h6(style='float:right;') 59,500원
    button.btn.btn-danger(type='submit') 결제하기

block script_content
  script(src='http://dmaps.daum.net/map_js_init/postcode.v2.js')
  script.
    function findAddr() {
    new daum.Postcode({
    oncomplete: function(data) {
    // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
    // 각 주소의 노출 규칙에 따라 주소를 조합한다.
    // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
    var fullAddr = ''; // 최종 주소 변수
    var extraAddr = ''; // 조합형 주소 변수
    // 사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
    if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
    fullAddr = data.roadAddress;
    } else { // 사용자가 지번 주소를 선택했을 경우(J)
    fullAddr = data.jibunAddress;
    }
    // 사용자가 선택한 주소가 도로명 타입일때 조합한다.
    if(data.userSelectedType === 'R'){
    //법정동명이 있을 경우 추가한다.
    if(data.bname !== ''){
    extraAddr += data.bname;
    }
    // 건물명이 있을 경우 추가한다.
    if(data.buildingName !== ''){
    extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
    }
    // 조합형주소의 유무에 따라 양쪽에 괄호를 추가하여 최종 주소를 만든다.
    fullAddr += (extraAddr !== '' ? ' ('+ extraAddr +')' : '');
    }
    // 우편번호와 주소 정보를 해당 필드에 넣는다.
    //document.getElementById('sample6_postcode').value = data.zonecode; //5자리 새우편번호 사용
    document.getElementById('address').value = fullAddr;
    // 커서를 상세주소 필드로 이동한다.
    document.getElementById('address').focus();
    }
    }).open();
    }